# Silo V2 Liquidity Mining System

This is a fork of the [Balancer V2 liquidity mining system](https://github.com/balancer/balancer-v2-monorepo/tree/master/pkg/liquidity-mining).
- Balancers permissions system based on the [AuthorizerAdaptor](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/admin/AuthorizerAdaptor.sol) was replaced by the Oppenzeppelins [Ownable2Step](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/access/Ownable2Step.sol).
- Governance switched to the Oppenzeppelins [Governor](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/governance/Governor.sol) with a [TimelockController](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/governance/TimelockController.sol), see [Silo governance](https://github.com/silo-finance/silo-contracts-v2/tree/develop/ve-silo/contracts/governance).
- For cross-chain operations such as SILO token incentives and veSILO transfers to the child chains we switched to the [Chainlink CCIP](https://docs.chain.link/ccip) protocol.
- Added [possibility to stop](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/silo-tokens-minter/BalancerTokenAdmin.sol#L178) the liquidity mining program by transferring ownership of the SILO token back to the Silo DAO.
- Added DAO and Deployer fees for gauges. See [MainnetBalancerMinter.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/silo-tokens-minter/MainnetBalancerMinter.sol#L75), [L2BalancerPseudoMinter.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/silo-tokens-minter/L2BalancerPseudoMinter.sol#L122) and [BalancerMinter changelog](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/silo-tokens-minter/CHANGELOG.md#balancermintersol)
- Modified gauges to be an extension of the Silo. With the new architecture, users don't need to stake tokens in the gauge. The gauge updates its state each time users deposit/withdraw into/from the Silo or transfer share tokens. See [SiloLiquidityGauge changelog](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/CHANGELOG.md#ethereumsiloliquiditygaugevy) and [ChildChainGauge changelog](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/CHANGELOG.md#l2-commonchildchaingaugevy)

### Forked smart contracts:
| | | |
| --- | --- | --- |
| [Balancer:VotingEscrow.vy](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/VotingEscrow.vy) | [Silo:VotingEscrow.vy](https://github.com/silo-finance/silo-contracts-v2/blob/develop/external/balancer-v2-monorepo/pkg/liquidity-mining/contracts/VotingEscrow.vy) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/voting-escrow/CHANGELOG.md#externalbalancer-v2-monorepopkgliquidity-miningcontractsvotingescrowvy) |
| [Balancer:VeBoostV2.vy](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/VeBoostV2.vy) | [Silo:VeBoostV2.vy](https://github.com/silo-finance/silo-contracts-v2/blob/develop/external/balancer-v2-monorepo/pkg/liquidity-mining/contracts/VeBoostV2.vy) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/voting-escrow/CHANGELOG.md#externalbalancer-v2-monorepopkgliquidity-miningcontractsveboostv2vy) |
| [Balancer:FeeDistributor.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/fee-distribution/FeeDistributor.sol) | [Silo:FeeDistributor.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/fees-distribution/FeeDistributor.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/fees-distribution/CHANGELOG.md) |
| [Balancer:GaugeController.vy](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/GaugeController.vy) | [Silo:GaugeController.vy](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/controller/GaugeController.vy) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/CHANGELOG.md#controllergaugecontrollersol) |
| [Balancer:LiquidityGaugeV5.vy](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/gauges/ethereum/LiquidityGaugeV5.vy) | [Silo:SiloLiquidityGauge.vy](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/ethereum/SiloLiquidityGauge.vy) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/CHANGELOG.md#ethereumsiloliquiditygaugevy) |
| [Balancer:LiquidityGaugeFactory.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/gauges/ethereum/LiquidityGaugeFactory.sol) | [Silo:LiquidityGaugeFactory.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/ethereum/LiquidityGaugeFactory.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/CHANGELOG.md#ethereumliquiditygaugefactorysol) |
| [Balancer:GaugeAdder.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/admin/GaugeAdder.sol) | [Silo:GaugeAdder.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/gauge-adder/GaugeAdder.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/CHANGELOG.md#gauge-addergaugeaddersol) |
| [Balancer:ChildChainGauge.vy](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/gauges/ChildChainGauge.vy) | [Silo:ChildChainGauge.vy](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/l2-common/ChildChainGauge.vy) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/CHANGELOG.md#l2-commonchildchaingaugevy) |
| [Balancer:ChildChainGaugeCheckpointer.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/gauges/ChildChainGaugeCheckpointer.sol) | [Silo:ChildChainGaugeCheckpointer.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/l2-common/ChildChainGaugeCheckpointer.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/CHANGELOG.md#l2-commonchildchaingaugecheckpointersol) |
| [Balancer:ChildChainGaugeFactory.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/gauges/ChildChainGaugeFactory.sol) | [Silo:ChildChainGaugeFactory.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/l2-common/ChildChainGaugeFactory.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/CHANGELOG.md#l2-commonchildchaingaugefactorysol) |
| [Balancer:ChildChainGaugeRegistry.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/gauges/ChildChainGaugeRegistry.sol) | [Silo:ChildChainGaugeRegistry.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/l2-common/ChildChainGaugeRegistry.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/CHANGELOG.md#l2-commonchildchaingaugeregistrysol) |
| [Balancer:StakelessGauge.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/gauges/StakelessGauge.sol) | [Silo:StakelessGauge.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/stakeless-gauge/StakelessGauge.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/CHANGELOG.md#stakeless-gaugestakelessgaugesol) |
| [Balancer:StakelessGaugeCheckpointer.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/gauges/StakelessGaugeCheckpointer.sol) | [Silo:CCIPGaugeCheckpointer.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/stakeless-gauge/CCIPGaugeCheckpointer.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/CHANGELOG.md#stakeless-gaugeccipgaugecheckpointersol) |
| [Balancer:BaseGaugeFactory.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/gauges/BaseGaugeFactory.sol) | [Silo:BaseGaugeFactory.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/gauges/BaseGaugeFactory.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/feature/ve-silo-docs/ve-silo/contracts/gauges/CHANGELOG.md#ethereumbasegaugefactorysol) |
| [Balancer:BalancerMinter.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/BalancerMinter.sol) | [Silo:BalancerMinter.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/silo-tokens-minter/BalancerMinter.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/silo-tokens-minter/CHANGELOG.md#balancermintersol) |
| [Balancer:BalancerTokenAdmin.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/BalancerTokenAdmin.sol) | [Silo:BalancerTokenAdmin.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/silo-tokens-minter/BalancerTokenAdmin.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/silo-tokens-minter/CHANGELOG.md#balancertokenadminsol) |
| [Balancer:L2BalancerPseudoMinter.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/L2BalancerPseudoMinter.sol) | [Silo:L2BalancerPseudoMinter.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/silo-tokens-minter/L2BalancerPseudoMinter.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/silo-tokens-minter/CHANGELOG.md#l2balancerpseudomintersol) |
| [Balancer:MainnetBalancerMinter.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/MainnetBalancerMinter.sol) | [Silo:MainnetBalancerMinter.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/silo-tokens-minter/MainnetBalancerMinter.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/silo-tokens-minter/CHANGELOG.md#l2balancerpseudomintersol) |
| [Balancer:SmartWalletChecker.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/SmartWalletChecker.sol) | [Silo:SmartWalletChecker.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/voting-escrow/SmartWalletChecker.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/voting-escrow/CHANGELOG.md#smartwalletcheckersol) |
| [Balancer:VotingEscrowRemapper.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/VotingEscrowRemapper.sol) | [Silo:VotingEscrowRemapper.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/voting-escrow/VotingEscrowRemapper.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/voting-escrow/CHANGELOG.md#votingescrowremappersol) |
| [Balancer:NullVotingEscrow.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/NullVotingEscrow.sol) | [Silo:NullVotingEscrow.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/voting-escrow/NullVotingEscrow.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/voting-escrow/CHANGELOG.md#nullvotingescrowsol) |
| [Balancer:VotingEscrowDelegationProxy.sol](https://github.com/balancer/balancer-v2-monorepo/blob/master/pkg/liquidity-mining/contracts/VotingEscrowDelegationProxy.sol) | [Silo:VotingEscrowDelegationProxy.sol](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/voting-escrow/VotingEscrowDelegationProxy.sol) | [CHANGELOG](https://github.com/silo-finance/silo-contracts-v2/blob/develop/ve-silo/contracts/voting-escrow/CHANGELOG.md#votingescrowdelegationproxysol) |

## Licensing
All Vyper files are based on the Curve DAO Contracts, and as such are licensed under the MIT License.\
All forked from Balancer files are licensed under the GNU General Public License Version 3 (GPL v3).\
All other contract BUSL-1.1.
